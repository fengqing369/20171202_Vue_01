<html>

<head>
    <meta charset="UTF-8">
    <title>03_原生双向数据绑定</title>
</head>

<body>
    <!-- 页面 -->
    请输入:
    <input type="text" name="" id="i">
    <script type="text/javascript">
    // 数据
    var obj = {
        text: '1234'
    }
    //页面改变影响内存
    document.getElementById('i').onkeyup = function(e) {
        // 页面改变影响内存
        obj.text = e.target.value;
    }
    //内存改变影响页面
    var input = document.getElementById('i');
    //存储obj.text的数据
    var tmp = '';
    //defineProperty接受三个参数，而且都是必填的
    //第一个参数:目标对象
    //第二个参数:需要定义的属性或方法的名字。
    //第三个参数:目标属性所拥有的特性。（descriptor）
    //前两个参数不多说了，一看代码就懂，主要看第三个参数descriptor，看看有哪些取值
    Object.defineProperty(obj, 'text', {
        set: function(newV) {
            //改变DOM
            input.value = newV;
            //记录值
            // tmp = newV;
            // obj.text = newV; //反复触发set
        },
        get:function(){
            return tmp;
        }
    });
    </script>
</body>

</html>